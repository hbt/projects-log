<html>

<head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8">
    <meta name="generator" content="AsciiDoc 8.6.9">
    <title></title>

    <link href="../assets/stylesheets/asciidoc.css"/>
    <link href="../assets/javascripts/asciidoc.js"/>
</head>

<body class="article">
<div id="header">
</div>

<div id="content">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A plugin for <a href="https://jekyllrb.com">Jekyll</a> (&gt;= 2.3.0) that converts the <a href="http://asciidoc.org">AsciiDoc</a> source files in your site to HTML pages using <a href="http://asciidoctor.org">Asciidoctor</a>.</p>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugin consists of three extensions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Converter&#8201;&#8212;&#8201;<code>Jekyll::AsciiDoc::Converter</code></dt>
<dd>
<p>Converts AsciiDoc files to HTML pages.
This plugin currently uses Asciidoctor to convert AsciiDoc content.</p>
</dd>
<dt class="hdlist1">Generator&#8201;&#8212;&#8201;<code>Jekyll::AsciiDoc::Integrator</code></dt>
<dd>
<p>Promotes eligible AsciiDoc attributes (e.g., doctitle, author, and attributes that begin with the page attribute prefix) to page variables.
These attributes are merged with the page variables defined in the front matter header.</p>
</dd>
<dt class="hdlist1">Liquid Filters</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>asciidocify</code>&#8201;&#8212;&#8201;Uses the converter from this plugin to convert a string of AsciiDoc content to HTML.</p>
</li>
<li>
<p><code>tocify_asciidoc</code>&#8201;&#8212;&#8201;Generates a table of contents in HTML from the parsed AsciiDoc document of the current page (since 2.1.0; only for Jekyll 3 or better and Asciidoctor).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These extensions are registered automatically when the <strong class="app">jekyll-asciidoc</strong> gem is required.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This plugin is packaged as a gem named <strong class="app"><a href="http://rubygems.org/gems/jekyll-asciidoc">jekyll-asciidoc</a></strong> and published to RubyGems.org.
The plugin depends on the <strong class="app"><a href="http://rubygems.org/gems/asciidoctor">asciidoctor</a></strong> gem, which gets installed automatically.</p>
</div>
<div class="paragraph">
<p>Your method of installation will depend on whether you use Bundler to manage the dependencies for your Jekyll project.</p>
</div>
<div class="sect2">
<h3 id="installation-using-bundler">Installation Using Bundler</h3>
<div class="paragraph">
<p>If you&#8217;re using Bundler to manage the dependencies for your project (as recommended), simply add the <strong class="app">jekyll-asciidoc</strong> gem to the <code>:jekyll_plugins</code> group in your <em class="path">Gemfile</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">group :jekyll_plugins do
  gem 'jekyll-asciidoc'
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, run the <code>bundle</code> command from Bundler to install the gem:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manual-installation">Manual Installation</h3>
<div class="paragraph">
<p>If you&#8217;re not using Bundler to manage the dependencies for your Jekyll project, you&#8217;ll need to install the gem manually:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] gem install jekyll-asciidoc</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>sudo</code> prefix is only required if you are installing gems into your system.
To avoid this bad practice, we recommend using RVM (or another Ruby version manager), which sets up Ruby safely in your home directory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then add the <strong class="app">jekyll-asciidoc</strong> gem to the list of gems for Jekyll to load in your site&#8217;s <em class="path">_config.yml</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">gems:
  - jekyll-asciidoc</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-pages">Creating Pages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This plugin converts eligible AsciiDoc files located inside the source directory (by default, the project root) to HTML pages in the generated site.
There are a few conditions that must be met in order for an AsciiDoc file to be eligible:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The file must have an AsciiDoc file extension (see <a href="#configuration">Configuration</a>).</p>
</li>
<li>
<p>The name of the file must not begin with a dot (<code>.</code>) or an underscore (<code>_</code>).<sup class="footnote" id="_footnote_excluded_files">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>The file must not be located in a folder whose name begins with a dot (<code>.</code>) or an underscore (<code>_</code>) (unless the folder is a designated collection, such as _posts).<sup class="footnoteref">[<a class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p><em>(Optional beginning with version 2.0.0 of this plugin)</em> Aside from posts, documents must begin with a <a href="https://jekyllrb.com/docs/frontmatter">front matter header</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Here&#8217;s a sample AsciiDoc file that meets these criteria:</p>
</div>
<div class="listingblock">
<div class="title">sample.adoc</div>
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">---
layout: info
permalink: /sample/
---
= Sample Page
:uri-asciidoctor: http://asciidoctor.org

This is a sample page composed in AsciiDoc.
Jekyll converts it to HTML using {uri-asciidoctor}[Asciidoctor].

[source,ruby]
puts "Hello, World!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can define the page variables directly in the AsciiDoc header, which we recommend:</p>
</div>
<div class="listingblock">
<div class="title">sample.adoc</div>
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Sample Page
:page-layout: info
:page-permalink: /sample/
:uri-asciidoctor: http://asciidoctor.org

This is a sample page composed in AsciiDoc.
Jekyll converts it to HTML using {uri-asciidoctor}[Asciidoctor].

[source,ruby]
puts "Hello, World!"</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="page-attributes">Page Attributes</h3>
<div class="paragraph">
<p>AsciiDoc attributes defined in the AsciiDoc document header and whose name begins with <code>page-</code><sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup> get promoted to <a href="https://jekyllrb.com/docs/variables">page variables</a>.
The part of the name after the <code>page-</code> prefix is <em>lowercased</em> and used as the variable name (e.g., page-layout becomes layout).
The value is processed as <a href="https://en.wikipedia.org/wiki/YAML">YAML</a> data (single-line form).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The AsciiDoc document header stops after the first blank line.
You may use include directives in the the document header, but make sure the included file does not contain a blank line.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use either a hyphen or an underscore as a separator for page attributes with multiple words (e.g., page-short-name).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="specifying-a-layout">Specifying a Layout</h3>
<div class="paragraph">
<p>The most commonly defined page variable is layout, which determines which template is used to wrap the generated content.
Jekyll will look for a template file inside the <em class="path">_layouts</em> folder whose root name matches the name of the layout.
For example, if the layout variable has the value <code>info</code>, Jekyll looks for a layout template at the path <em class="path">_layout/info.html</em>.</p>
</div>
<div class="paragraph">
<p>If the layout is empty, the auto-selected layout layout is used (documented in the list below).
If the layout is unset or <code>false</code>, the AsciiDoc processor will generate a standalone document.
In this case, the page will appear like an HTML file generated by the AsciiDoc processor directly (with the option <code>header_footer: true</code>).
If the layout is ~, no layout is applied.</p>
</div>
<div class="paragraph">
<p>To review, here are the different ways to specify a layout using the AsciiDoc attribute page-layout:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>:page-layout: info</code>&#8201;&#8212;&#8201;use the layout named <code>info</code> (e.g., <em class="path">_layout/info.html</em>)</p>
</li>
<li>
<p><em>not specified</em>, <code>:page-layout:</code> or <code>:page-layout: _auto</code>&#8201;&#8212;&#8201;use the automatic layout (i.e., <code>page</code> for pages, <code>post</code> for posts, the singular form of the collection label for a document; if the auto-selected layout isn&#8217;t available, the layout <code>default</code> is used)</p>
</li>
<li>
<p><code>:!page-layout:</code> or <code>:page-layout: false</code>&#8201;&#8212;&#8201;don&#8217;t use a layout; instead, generate a standalone HTML document</p>
</li>
<li>
<p><code>:page-layout: ~</code>&#8201;&#8212;&#8201;don&#8217;t use a layout (often results in an incomplete HTML file)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="implicit-page-variables">Implicit Page Variables</h3>
<div class="paragraph">
<p>In addition to page attributes defined explicitly, the following implicit AsciiDoc attributes are also promoted to page variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>doctitle (aka the document title) (becomes title)</p>
</li>
<li>
<p>author</p>
</li>
<li>
<p>revdate (becomes date; value is converted to a DateTime object; posts only)</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="giving-your-post-the-time-of-day">Giving Your Post the Time of Day</h4>
<div class="paragraph">
<p>By default, all posts are assigned a date that is computed from the file name (e.g., the date for 2016-03-20-welcome.adoc is 2016-03-20).
If you want to give your post a specific time as well, you can set the <code>revdate</code> attribute in the AsciiDoc header.</p>
</div>
<div class="paragraph">
<p>We recommend using the format <code>YYYY-MM-DD HH:MM:SS Z</code> as shown in this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Post Title
Author Name
:revdate: 2016-03-20 10:30:00 -0600

Lorem ipsum.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t provide a time zone in the date, the date is assumed to be in the same time zone as the site (which is your local time zone by default).</p>
</div>
<div class="paragraph">
<p>Alternatively, you can specify the date in the implicit revision line.
In this case, you must substitute the colons in the time part with "h", "m", and "s", respectively, since the colon demarcates the revision remark.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Post Title
Author Name
2016-03-20 10h30m00s -0600

Lorem ipsum.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the revision line must be preceded by the implicit author line.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-liquid-preprocessing">Enabling Liquid Preprocessing</h3>
<div class="paragraph">
<p>Unlike other content files, the <a href="https://jekyllrb.com/docs/templates">Liquid template preprocessor</a> is not applied to AsciiDoc files by default (as of version 2.0.0 of this plugin).
If you want the Liquid template preprocessor to be applied to an AsciiDoc file (prior to the content being passed to the AsciiDoc processor), you must enable it by setting the <code>liquid</code> page variable (shown here defined using a page attribute).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">:page-liquid:</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
AsciiDoc files may include a <a href="https://jekyllrb.com/docs/frontmatter">front matter header</a> for defining page variables.
If present, the front matter header must be the very first character of the file.
The front matter header won&#8217;t be seen&#8212;&#8203;and could distort conversion&#8212;&#8203;if the front matter is preceded by whitespace or a Byte Order Mark (BOM).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As of version 2.0.0 of this plugin, you may exclude the front matter header, as shown in the second example above.
Prior to version 2.0.0, you had to include at least an empty front matter header (except for posts).
In these cases, you define all the page variables (e.g., layout) using AsciiDoc page attributes instead of in the front matter.
You can also use a combination of both.
When intermixed, the page attributes defined in the AsciiDoc header take precedence.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-and-previewing-your-site">Building and Previewing Your Site</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can build your site into the <em class="path">_site</em> directory using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll build</pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re using Bundler, prefix each command with <code>bundle exec</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ <strong>bundle exec</strong> jekyll build</pre>
</div>
</div>
<div class="paragraph">
<p>You can preview your site at http://localhost:4000 using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll serve</pre>
</div>
</div>
<div class="paragraph">
<p>Since Jekyll 2.4.0, the <code>serve</code> command monitors the file system and rebuilds the site whenever a change is detected by default (i.e., watch mode).
You can enable watch mode explicitly using the <code>--watch</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll serve --watch</pre>
</div>
</div>
<div class="paragraph">
<p>To disable watch mode explicitly, use the <code>--no-watch</code> flag instead.</p>
</div>
<div class="paragraph">
<p>You can also use the <code>--watch</code> flag with the <code>build</code> command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll build --watch</pre>
</div>
</div>
<div class="paragraph">
<p>If you only want Jekyll to build files which have changed, and not the whole site, add the <code>--incremental</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll serve --incremental</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll build --watch --incremental</pre>
</div>
</div>
<div class="paragraph">
<p>To see a report of all the files that are processed, add the <code>--verbose</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll build --verbose</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you add the <code>--safe</code> flag, third-party plugins such as this one are disabled by default.
To reenable the plugin, you must add the name of the gem to the whitelist.
See <a href="#running-in-safe-mode">Running in Safe Mode</a> for details.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the configuration options for this plugin, which are <em>optional</em>.</p>
</div>
<div class="paragraph">
<p>You should at least assign an empty Hash as a default (e.g., <code>{}</code>) to the <code>asciidoc</code> and <code>asciidoctor</code> keys in <em class="path">_config.yml</em>, respectively, if you don&#8217;t plan on making any further customizations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoc: {}
asciidoctor: {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using these placeholder values prevents initialization from being performed more than once when using watch mode (see <a href="https://github.com/jekyll/jekyll/issues/4858">issue jekyll#4858</a>).</p>
</div>
<div class="sect2">
<h3 id="asciidoc">AsciiDoc</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Prior to version 2.0.0 of this plugin, the configuration keys in this section were defined as flat, top-level names (e.g., <code>asciidoc_ext</code>).
These names are now deprecated, but still supported.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, this plugin uses Asciidoctor to convert AsciiDoc files.
Because Asciidoctor is currently the only option, the default setting is equivalent to the following configuration in <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoc:
  processor: asciidoctor</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The <code>asciidoc</code> block should only appear <em>once</em> inside <em class="path">_config.yml</em>.
If you define any other options that are documented in this section, you should append them to the <code>asciidoc</code> block.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To tell Jekyll which file extensions to match as AsciiDoc files, append the <code>ext</code> option to the <code>asciidoc</code> block of your <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoc:
  ext: asciidoc,adoc,ad</code></pre>
</div>
</div>
<div class="paragraph">
<p>The extensions shown in the previous listing are the default values, so you don&#8217;t need to specify this option if those defaults are sufficient.</p>
</div>
<div class="paragraph">
<p>AsciiDoc attributes defined in the document header whose names begin with <code>page-</code> are promoted to page variables.
The part of the name after the <code>page-</code> prefix is used as the key (e.g., page-layout becomes layout).
If you want to change this attribute prefix, append the <code>page_attribute_prefix</code> option to the <code>asciidoc</code> block of your <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoc:
  page_attribute_prefix: jekyll</code></pre>
</div>
</div>
<div class="paragraph">
<p>A hyphen is automatically added to the value of this configuration setting if the value is non-empty.</p>
</div>
<div class="paragraph">
<p>Since version 2.0.0 of this plugin, all non-hidden AsciiDoc files are processed by default, even those without a front matter header.
If you only want files containing a front matter header to be processed (as was the behavior prior to version 2.0.0), add the <code>require_front_matter_header</code> option to the <code>asciidoc</code> block of your <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoc:
  require_front_matter_header: true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="asciidoctor">Asciidoctor</h3>
<div class="paragraph">
<p>In addition to the built-in attributes in AsciiDoc, the following additional AsciiDoc attributes are automatically defined by this plugin and available to all AsciiDoc-based pages:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>site-root=(absolute path of root directory)
site-source=(absolute path of source directory)
site-destination=(absolute path of output directory)
site-baseurl=(value of the baseurl config option)
site-url=(value of the url config option)
env=site
env-site
site-gen=jekyll
site-gen-jekyll
builder=jekyll
builder-jekyll
jekyll-version=(value of the Jekyll::VERSION constant)
idprefix
idseparator=-
linkattrs=@</pre>
</div>
</div>
<div class="paragraph">
<p>The following attributes are defined per page:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>outpath=(path of page relative to baseurl)</pre>
</div>
</div>
<div class="paragraph">
<p>You can pass additional attributes to AsciiDoc, or override default attributes provided by the plugin, by using the <code>attributes</code> option of the <code>asciidoctor</code> block in your <em class="path">_config.yml</em>.
The value of this option can either be an Array containing key-value pairs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    - idprefix=_
    - source-highlighter=pygments
    - pygments-css=style</code></pre>
</div>
</div>
<div class="paragraph">
<p>or key-value pairs defined as a Hash:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    idprefix: _
    source-highlighter: pygments
    pygments-css: style</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using the Hash syntax, you must use an empty string value to set a valueless attribute such as <code>sectanchors</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    sectanchors: ''</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may use attribute references in the attribute value to reference any implicit or already defined attribute.
For example, to set the <code>iconsdir</code> attribute based on the <code>imagesdir</code> attribute, use the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    imagesdir: /images
    iconsdir: '{imagesdir}/icons'</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
If the value begins with an attribute reference, and you&#8217;re defining the attributes using the Hash structure, you must enclose the value in quotes.
Beware that there are additional edge cases when the value must be enclosed in quotes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since version 2.1.0 of this plugin, you can remove a previously defined attribute by prefixing the name with a hyphen (aka minus):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    -idprefix:</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to <code>attributes</code>, you may define any other option key (e.g., <code>safe</code>) recognized by the <a href="http://asciidoctor.org/docs/user-manual#ruby-api-options">Asciidoctor API</a>.
One of those is <code>base_dir</code>, which is covered in the next section.</p>
</div>
<div class="sect3">
<h4 id="specifying-the-base-directory">Specifying the Base Directory</h4>
<div class="paragraph">
<p>In Asciidoctor, the base directory (i.e., <code>base_dir</code> option) is used as the root when resolving non-nested, relative includes, among other paths.</p>
</div>
<div class="paragraph">
<p>By default, this plugin does not specify a base directory when invoking the Asciidoctor API.
Asciidoctor will therefore use the current working directory (i.e., the project root) as the base directory.</p>
</div>
<div class="paragraph">
<p>If your source directory is not the project root, and you want Asciidoctor to use the source directory as the base directory, set the value of the <code>base_dir</code> option to <code>:source</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  base_dir: :source
  ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>If, instead, you want the base directory to track the directory of the document being processed, and you&#8217;re using Jekyll 3 or better, you can set the value of the <code>base_dir</code> option to <code>:docdir</code>.
Since the base directory is also the jail, we also recommend setting the <code>safe</code> option to <code>unsafe</code> so that you can still resolve paths outside of this directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  base_dir: :docdir
  safe: unsafe
  ...</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The <code>:docdir</code> setting is not available when using Jekyll 2.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also set the <code>base_dir</code> option to any relative or absolute path.
In that case, the same value will be used for all documents.</p>
</div>
</div>
<div class="sect3">
<h4 id="enabling-hard-line-breaks-globally">Enabling Hard Line Breaks Globally</h4>
<div class="paragraph">
<p>Many Jekyll users are used to writing in GitHub-flavored Markdown (GFM), which preserves hard line breaks in paragraph content.
Asciidoctor supports this feature for AsciiDoc files.
(In fact, previous versions of this plugin enabled this behavior by default).
If you want to enable this behavior for AsciiDoc files, add the <code>hardbreaks-option</code> attribute to the Asciidoctor attributes configuration in your site&#8217;s <em class="path">_config.yml</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    - hardbreaks-option</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to allow individual files to override this setting, then assign the value <code>@</code> to the attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    - hardbreaks-option=@</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you already have AsciiDoc attributes defined in the <em class="path">_config.yml</em>, the new attribute should be added as a sibling entry in the YAML collection.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Keep in mind, if you enable hard line breaks, you won&#8217;t be able to use the <a href="http://asciidoctor.org/docs/asciidoc-recommended-practices#one-sentence-per-line">one sentence-per-line writing technique</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-in-safe-mode">Running in Safe Mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to use this plugin when running Jekyll in safe mode, you must add the <strong class="app">jekyll-asciidoc</strong> gem to the whitelist in your site&#8217;s <em class="path">_config.yml</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">whitelist:
  - jekyll-asciidoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>Safe mode is enabled either through the <code>--safe</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ jekyll build --safe</pre>
</div>
</div>
<div class="paragraph">
<p>or the <code>safe</code> configuration option in your site&#8217;s <em class="path">_config.yml</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">safe: true</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-asciidoc-content-in-templates">Working with AsciiDoc Content in Templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jekyll uses the Liquid templating language to process templates.
This plugin defines two additional Liquid filters, <code>asciidocify</code> and <code>tocify_asciidoc</code>, for working with AsciiDoc content in those templates.</p>
</div>
<div class="sect2">
<h3 id="converting-a-string-from-asciidoc">Converting a String from AsciiDoc</h3>
<div class="paragraph">
<p>You can use the <code>asciidocify</code> filter to convert an arbitrary AsciiDoc string anywhere in your template.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume the excerpt of the post is written in AsciiDoc.
You can convert it in your template as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{{ post.excerpt | asciidocify }}</pre>
</div>
</div>
<div class="paragraph">
<p>By default, the AsciiDoc content is parsed as a full AsciiDoc document.
If the content represents a single paragraph, and you only want to perform inline substitutions on that content, add the <code>inline</code> doctype as the filter&#8217;s first argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{{ post.excerpt | asciidocify: 'inline' }}</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This filter allows you to compose site-wide data in AsciiDoc, such your site&#8217;s description or synopsis, then convert it to HTML for use in the page template(s).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-table-of-contents">Generating a Table of Contents</h3>
<div class="paragraph">
<p>Since version 2.1.0 of this plugin, if you&#8217;re using Jekyll 3 or better, you can use the <code>tocify_asciidoc</code> filter to generate a table of contents from the content of any page that is generated from AsciiDoc.
This filter gives you the ability to place this table of contents anywhere inside the page layout, but outside the main content.</p>
</div>
<div class="paragraph">
<p>You apply the <code>tocify_asciidoc</code> filter to <code>page.document</code>, the page variable that resolves to the parsed AsciiDoc document, as shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{{ page.document | tocify_asciidoc }}</pre>
</div>
</div>
<div class="paragraph">
<p>The number of section levels (i.e., depth) shown in the table of contents defaults to the value defined by the <code>toclevels</code> attribute in the AsciiDoc document.
To tune the number of levels, pass a numeric value as the filter&#8217;s first argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{{ page.document | tocify_asciidoc: 3 }}</pre>
</div>
</div>
<div class="paragraph">
<p>When you use the <code>tocify_asciidoc</code> filter, you&#8217;ll also want to disable the <code>toc</code> attribute in your document.
You can do this using a conditional preprocessor directive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Guide

== Section A

content

== Section B

content</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-the-generated-html">Customizing the Generated HTML</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use templates to customize the HTML output that Asciidoctor generates for your site.
Template files can be composed in any templating language that is supported by <a href="https://github.com/rtomayko/tilt">Tilt</a>.
Each template file corresponds to a node in the AsciiDoc document tree (aka AST).</p>
</div>
<div class="paragraph">
<p>Below are the steps you need to take to configure Asciidoctor to use custom templates with your site.</p>
</div>
<div class="sect2">
<h3 id="step-1-add-required-gems">Step 1: Add Required Gems</h3>
<div class="paragraph">
<p>You&#8217;ll first need to add the thread_safe gem as well as the gem for the templating language you plan to use.
We&#8217;ll assume that you are using Slim.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">gem 'slim', '~&gt; 3.0.7'
gem 'thread_safe', '~&gt; 0.3.5'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step-2-install-new-gems">Step 2: Install New Gems</h3>
<div class="paragraph">
<p>Now run the <code>bundle</code> command to install the new gems.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step-3-create-a-templates-folder">Step 3: Create a Templates Folder</h3>
<div class="paragraph">
<p>Next, create a new folder in your site named <em class="path">_templates</em> to store your templates.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ mkdir _templates</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step-4-configure-asciidoctor-to-load-templates">Step 4: Configure Asciidoctor to Load Templates</h3>
<div class="paragraph">
<p>In your site&#8217;s <em class="path">_config.yml</em> file, configure Asciidoctor to load the templates by telling it the location where the templates are stored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  template_dir: _templates
  attributes: ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step-5-compose-a-template">Step 5: Compose a Template</h3>
<div class="paragraph">
<p>The final step is to compose a template.
We&#8217;ll be customizing the unordered list node.
Name the file <em class="path">ulist.html.slim</em>.</p>
</div>
<div class="listingblock">
<div class="title">ulist.html.slim</div>
<div class="content">
<pre class="highlight"><code class="language-slim" data-lang="slim">- if title?
  figure.list.unordered id=id
    figcaption=title
    ul class=[style, role]
      - items.each do |_item|
        li
          span.primary=_item.text
          - if _item.blocks?
            =_item.content
- else
  ul id=id class=[style, role]
    - items.each do |_item|
      li
        span.primary=_item.text
        - if _item.blocks?
          =_item.content</code></pre>
</div>
</div>
<div class="paragraph">
<p>The next time you build your site, Asciidoctor will use your custom template to generate the HTML for unordered lists.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can find additional examples of custom templates in the <a href="https://github.com/asciidoctor/asciidoctor-backends">asciidoctor-backends</a> repository.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-asciidoctor-diagram">Enabling Asciidoctor Diagram</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://asciidoctor.org/docs/asciidoctor-diagram">Asciidoctor Diagram</a> is a set of extensions for Asciidoctor that allow you to embed diagrams generated by PlantUML, Graphviz, ditaa, Shaape, and other plain-text diagram tools inside your AsciiDoc documents.
In order to use Asciidoctor Diagram in a Jekyll project successfully, <strong>you must use Jekyll &gt;= 3.0.0 and a version of this plugin &gt;= 2.0.0</strong>.
Other combinations are known to have issues.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
For Graphviz and PlantUML diagram generation, <a href="http://www.graphviz.org">Graphviz</a> must be installed (i.e., the <code>dot</code> utility must be available on your <code>$PATH</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="installation-2">Installation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Using Bundler</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Add <code>asciidoctor-diagram</code> gem to your <em class="path">Gemfile</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">group :jekyll_plugins do
  gem 'asciidoctor-diagram', '~&gt; 1.4.0' <i class="conum" data-value="1"></i><b>(1)</b>
  gem 'jekyll-asciidoc'
  ...
end</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Customize the version of Asciidoctor Diagram as needed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then, run Bundler&#8217;s install command to install the new gem:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle install</pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">Without Bundler</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Install gems manually</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] gem install asciidoctor-diagram</pre>
</div>
</div>
<div class="paragraph">
<p>Then, add the <code>asciidoctor-diagram</code> gem to the list of gems for Jekyll to load in your site&#8217;s <em class="path">_config.yml</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">gems:
  - asciidoctor-diagram
  - jekyll-asciidoc</code></pre>
</div>
</div>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The preceding configurations are equivalent to passing <code>-r asciidoctor-diagram</code> to the <code>asciidoctor</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="generated-image-location">Generated Image Location</h3>
<div class="paragraph">
<p>Asciidoctor Diagram needs some context in order to write the images to the proper location.
At a minimum, you must set the following configuration in <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  base_dir: :docdir
  safe: unsafe</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration, Asciidoctor Diagram will generate images relative to the generated HTML page (i.e., into the same directory).</p>
</div>
<div class="paragraph">
<p>You can use the following example to test your setup:</p>
</div>
<div class="listingblock">
<div class="title">_posts/2016-01-01-diagram-sample.adoc</div>
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Diagram Sample

[graphviz,dot-example,svg]
....
digraph g {
    a -&gt; b
    b -&gt; c
    c -&gt; d
    d -&gt; a
}
....</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to serve all images from the same folder, assign a value to the <code>imagesdir</code> attribute that is relative to the site root:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  base_dir: :docdir
  safe: unsafe
  attributes:
    imagesdir: /images</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration, all images will be generated into the <em class="path">images</em> directory inside the destination folder.</p>
</div>
<div class="sect3">
<h4 id="preserving-generated-images">Preserving Generated Images</h4>
<div class="paragraph">
<p>Since Asciidoctor Diagram writes to the output folder, you have to instruct Jekyll not to remove these generated files.
One way to do this is to apply a &#8220;monkeypatch&#8221; to Jekyll.
Add the file <em class="path">jekyll-ext.rb</em> to the <em class="path">_plugins</em> folder of your project root (creating the folder if it does not already exist) and populate the file with the following content:</p>
</div>
<div class="listingblock">
<div class="title">_plugins/jekyll-ext.rb</div>
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Jekyll::Cleaner
  def cleanup!; end
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>An alternative to the monkeypath approach is to identify folders that contain generated images in the <code>keep_files</code> option in <em class="path">_config.yml</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">keep_files: [images]
asciidoctor:
  base_dir: :docdir
  safe: unsafe
  attributes:
    imagesdir: /images</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-supplemental-assets">Adding Supplemental Assets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Certain Asciidoctor features, such as icons, require additional CSS rules and other assets to work.
These CSS rules and other assets do not get automatically included in the pages generated by Jekyll.
This section documents how to configure these additional resources.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you want to take a shortcut that skips all this configuration, clone the <a href="https://github.com/asciidoctor/jekyll-asciidoc-quickstart">Jekyll AsciiDoc Quickstart (JAQ)</a> repository and use it as a starting point for your site.
JAQ provides a page layout out of the box configured to fully style body content generated from AsciiDoc.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="setup">Setup</h3>
<div class="paragraph">
<p>The Jekyll AsciiDoc plugin converts AsciiDoc to embeddable HTML.
This HTML is then inserted into the page layout.
You need to augment the layout to include resources typically present in a standalone HTML document that Asciidoctor produces.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a stylesheet in the <em class="path">css</em> directory named <em class="path">asciidoc.css</em> to hold additional CSS for body content generated from AsciiDoc.</p>
</li>
<li>
<p>Add this stylesheet to the HTML <code>&lt;head&gt;</code> in <em class="path">_includes/head.html</em> under the main.css declaration:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;link rel="stylesheet" href="{{ "/css/asciidoc.css" | prepend: site.baseurl }}"&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="stylesheet-for-code-highlighting">Stylesheet for Code Highlighting</h3>
<div class="paragraph">
<p>Asciidoctor integrates with Pygments to provide code highlighting of source blocks in AsciiDoc content.
This integration is separate from the Pygments integration in Jekyll.
As part of this integration, Asciidoctor generates a custom stylesheet tailored specially to work with the HTML that Asciidocotor produces.
Since this stylesheet is backed by the Pygments API, it provides access to all the themes in Pygments</p>
</div>
<div class="paragraph">
<p>This plugin will automatically generate a stylesheet for Pygments into the source directory if the AsciiDoc attributes in your site&#8217;s <em class="path">_config.yml</em> are configured as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>source-highlighter</code> has the value <code>pygments</code></p>
</li>
<li>
<p><code>pygments-css</code> has the value <code>class</code> or is not set</p>
</li>
<li>
<p><code>pygments-stylesheet</code> is not unset (if set, it can have any value)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the stylesheet is written to <code>stylesdir</code> + <code>pygments-stylesheet</code>.
If the <code>pygments-stylesheet</code> attribute is not specified, the value defaults to <code>asciidoc-pygments.css</code>.
You can customize this value to your liking.</p>
</div>
<div class="paragraph">
<p>The Pygments theme is selected by the value of the <code>pygments-style</code> attribute.
If this attribute is not set, it defaults to <code>vs</code>.</p>
</div>
<div class="paragraph">
<p>The stylesheet file will be created if it does not yet exist or the theme has been changed.
Jekyll will handle copying the file to the output directory.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll need to add a line to your template to link to this stylesheet, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;link rel="stylesheet" href="{{ "/css/asciidoc-pygments.css" | prepend: site.baseurl }}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To disable this feature, either set the <code>pygments-css</code> to <code>style</code> (to enable inline styles) or unset the <code>pygments-stylesheet</code> attribute in your site&#8217;s <em class="path">_config.yml</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It may still be necessary to make some tweaks to your site&#8217;s stylesheet to accomodate this integration.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="font-based-admonition-and-inline-icons">Font-based Admonition and Inline Icons</h3>
<div class="paragraph">
<p>To enable font-based admonition and inline icons, you first need to add Font Awesome to <em class="path">_includes/head.html</em> file under the asciidoc.css declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can also link to a local copy of Font Awesome.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, you need to add the following CSS rules from the default Asciidoctor stylesheet to the <em class="path">css/asciidoc.css</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-css" data-lang="css">span.icon&gt;.fa {
  cursor: default;
}
.admonitionblock td.icon {
  text-align: center;
  width: 80px;
}
.admonitionblock td.icon [class^="fa icon-"] {
  font-size: 2.5em;
  text-shadow: 1px 1px 2px rgba(0,0,0,.5);
  cursor: default;
}
.admonitionblock td.icon .icon-note:before {
  content: "\f05a";
  color: #19407c;
}
.admonitionblock td.icon .icon-tip:before {
  content: "\f0eb";
  text-shadow: 1px 1px 2px rgba(155,155,0,.8);
  color: #111;
}
.admonitionblock td.icon .icon-warning:before {
  content: "\f071";
  color: #bf6900;
}
.admonitionblock td.icon .icon-caution:before {
  content: "\f06d";
  color: #bf3400;
}
.admonitionblock td.icon .icon-important:before {
  content: "\f06a";
  color: #bf0000;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Feel free to modify the CSS to your liking.</p>
</div>
<div class="paragraph">
<p>Finally, you need to enable the font-based icons in the header of the document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">:icons: font</code></pre>
</div>
</div>
<div class="paragraph">
<p>or in the site configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    - icons=font
    ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="image-based-admonition-and-inline-icons">Image-based Admonition and Inline Icons</h3>
<div class="paragraph">
<p>As an alternative to font-based icons, you can configure Asciidoctor to use image-based icons.
In this case, all you need to do is provide the icons at the proper location.</p>
</div>
<div class="paragraph">
<p>First, enable image-based icons and configure the path to the icons in the header of the document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">:icons:
:iconsdir: /images/icons</code></pre>
</div>
</div>
<div class="paragraph">
<p>or your site configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">asciidoctor:
  attributes:
    - icons
    - iconsdir=/images/icons</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, simply put the icon images that the page needs in the <em class="path">images/icons</em> directory.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="publishing-your-site">Publishing Your Site</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers several options you have available for publishing your site, including GitHub Pages and GitLab Pages.</p>
</div>
<div class="sect2">
<h3 id="using-this-plugin-on-github-pages">Using this Plugin on GitHub Pages</h3>
<div class="paragraph">
<p>GitHub doesn&#8217;t (yet) whitelist the AsciiDoc plugin, so you must run Jekyll either on your own computer or on a continuous integration (CI) server.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
GitHub needs to hear from enough users that need this plugin to persuade them to enable it.
Our recommendation is to <a href="https://github.com/contact">contact support</a> and keep asking for it.
Refer to the help page <a href="https://help.github.com/articles/adding-jekyll-plugins-to-a-github-pages-site">Adding Jekyll Plugins to a GitHub Pages site</a> for a list of plugins currently supported on GitHub Pages.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>But don&#8217;t despair!</em>
You can still automate publishing of the generated site to GitHub Pages using a continuous integration job.
Refer to the <a href="http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html" target="_blank">Automate GitHub Pages publishing with Jekyll and Travis CI</a> tutorial to find step-by-step instructions.
You can also refer to the <a href="https://github.com/johncarl81/transfuse-site" target="_blank">Transfuse website build</a> for an example in practice.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When using this setup, don&#8217;t forget to add the <em class="path">.nojekyll</em> file to the root of the source to tell GitLab Pages not to waste time running Jekyll again on the server.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="jekyll-asciidoc-quickstart">Jekyll AsciiDoc Quickstart</h4>
<div class="paragraph">
<p>If you want to take a shortcut that skips all the steps in the previously mentioned tutorial, clone the <a href="https://github.com/asciidoctor/jekyll-asciidoc-quickstart">Jekyll AsciiDoc Quickstart (JAQ)</a> repository and use it as a starting point for your site.
JAQ includes a Rake build that is preconfigured to deploy to GitHub Pages from Travis CI and also provides a theme (page layout and CSS) that properly styles body content generated from AsciiDoc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-this-plugin-on-gitlab-pages">Using this Plugin on GitLab Pages</h3>
<div class="paragraph">
<p>Deployment to GitLab Pages is much simpler.
That&#8217;s because GitLab allows you to control the execution of Jekyll yourself.
There&#8217;s no need to mess around with CI jobs and authentication tokens.
You can find all about how to use Jekyll with GitLab Pages in the tutorial <a href="https://about.gitlab.com/2016/04/07/gitlab-pages-setup/#option-b-gitlab-ci-for-jekyll-websites">Hosting on GitLab.com with GitLab Pages</a>.
More in-depth information regarding setting up your repository for GitLab Pages can be found in the  <a href="https://docs.gitlab.com/ee/pages/README.html">GitLab Enterprise Edition / Pages</a> documentation.</p>
</div>
<div class="paragraph">
<p>Assuming the following are true:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The source of your site resides on the master branch (though you can use any branch for this purpose).</p>
</li>
<li>
<p>You&#8217;re using Bundler to manage the dependencies for your project.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can then use the following <em class="path">.gitlab-ci.yml</em> file to get starting hosting your Jekyll site on GitLab Pages.</p>
</div>
<div class="listingblock">
<div class="title">gitlab-ci.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">image: ruby:2.3
cache:
  paths:
    - .bundle
before_script:
  - bundle --path .bundle/gems
pages:
  script:
    - bundle exec jekyll build -d public --config _config.yml,_config-gitlab.yml -q
  artifacts:
    paths:
      - public
  only:
    - master</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script runs Jekyll on the official Ruby Docker container.</p>
</div>
<div class="paragraph">
<p>You also need to add an additional configuration file, <em class="path">_config-gitlab.yml</em>, to set the <code>url</code> and <code>baseurl</code> options when deploying your site to GitLab Pages.</p>
</div>
<div class="listingblock">
<div class="title">_config-gitlab.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">url: https://&lt;username&gt;.gitlab.io <i class="conum" data-value="1"></i><b>(1)</b>
baseurl: /&lt;projectname&gt; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code>&lt;username&gt;</code> with your GitLab username or group.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Replace <code>&lt;projectname&gt;</code> with the basename of your project repository.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The next time you push to the master branch, the GitLab Pages runner will execute Jekyll and deploy your site to <em class="uri">https://&lt;username&gt;.gitlab.io/&lt;projectname&gt;</em>, where <code>&lt;username&gt;</code> is your GitLab username or group and <code>&lt;projectname&gt;</code> is the basename of your project repository.</p>
</div>
<div class="paragraph">
<p>Like GitHub Pages, you can also have your site respond to a custom domain name, which is explained in the referenced tutorial.
In this case, update the <em class="path">_config-gitlab.yml</em> file with the appropriate values.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
At this time, GitLab Pages only works with projects hosted at GitLab.com or on self-hosted GitLab Enterprise Edition instances.
GitLab Community Edition does not support continuous integration and cannot host pages.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-help">Getting Help</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Jekyll AsciiDoc plugin is developed to help you publish your content quickly and easily.
But we can&#8217;t achieve that goal without your input.
Your questions and feedback help steer the project, so speak up!
Activity drives progress.</p>
</div>
<div class="paragraph">
<p>When seeking answers, always start with the official documentation for Jekyll, which can be found on the <a href="https://jekyllrb.com">Jekyll website</a>.
If you have general questions about Jekyll, we recommend you visit the <a href="https://talk.jekyllrb.com">Jekyll Talk</a> forum to get assistance.
For questions related to this extension specifically, or general questions about AsciiDoc, please post to the <a href="http://discuss.asciidoctor.org">Asciidoctor discussion list</a>.
You can also join us in the <a href="https://gitter.im/asciidoctor/asciidoctor">asciidoctor/asciidoctor channel</a> on Gitter.
For general information about AsciiDoc, look no further than the <a href="http://asciidoctor.org/docs/user-manual">Asciidoctor User Manual</a>.</p>
</div>
<div class="sect2">
<h3 id="filing-bug-reports-and-feature-requests">Filing Bug Reports and Feature Requests</h3>
<div class="paragraph">
<p>This project uses the <a href="https://github.com/asciidoctor/jekyll-asciidoc/issues">GitHub issue tracker</a> to manage bug reports and feature requests.
If you encounter a problem, please <a href="https://github.com/asciidoctor/jekyll-asciidoc/search?type=Issues">browse or search</a> the issues to find out if your problem has already been reported.
If it has not, you may <a href="https://github.com/asciidoctor/jekyll-asciidoc/issues/new">submit a new issue</a>.</p>
</div>
<div class="paragraph">
<p>The best way to get a timely response and quick fix for your issue is to write a detailed report and respond to replies in a timely manner.</p>
</div>
<div class="paragraph">
<p>If you know Ruby (or you&#8217;re willing to learn), we encourage you to submit a pull request.
Please include an RSpec behavior that describes how your feature should work or demonstrates the problem you&#8217;re encountering.
Make sure to send your pull request from a branch in your fork.
If the pull request resolves an issue, please name the branch using the issue number (e.g., issue-N, where N is the issue number).</p>
</div>
<div class="paragraph">
<p>If you aren&#8217;t able to submit a pull request, please provide a sample so that the developers can reproduce your scenario.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="development">Development</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To help develop the Jekyll AsciiDoc plugin, or to simply use the development version, you need to retrieve the source from GitHub.
Follow the instructions below to learn how to clone the source, run the tests and install the development version.</p>
</div>
<div class="sect2">
<h3 id="retrieve-the-source-code">Retrieve the Source Code</h3>
<div class="paragraph">
<p>You can retrieve the source code from GitHub using git.
Simply copy the URL of the <a href="https://github.com/asciidoctor/jekyll-asciidoc">GitHub repository</a> and pass it to the <code>git clone</code> command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git clone https://github.com/asciidoctor/jekyll-asciidoc</pre>
</div>
</div>
<div class="paragraph">
<p>Next, switch to the project directory.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cd jekyll-asciidoc</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-the-dependencies">Install the Dependencies</h3>
<div class="paragraph">
<p>The dependencies needed to develop the Jekyll AsciiDoc plugin are defined in the <em class="path">Gemfile</em> at the root of the project.
You&#8217;ll use Bundler to install these dependencies.</p>
</div>
<div class="paragraph">
<p>To check if you have Bundler installed, use the <code>bundle</code> command to query for the version:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle --version</pre>
</div>
</div>
<div class="paragraph">
<p>If Bundler is not installed, use the <code>gem</code> command to install it.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] gem install bundler</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, invoke the <code>bundle</code> command (which is provided by the bundler gem) from the root of the project to install the dependencies into the project:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle --path=.bundle/gems</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Since we&#8217;ve installed dependencies inside the project, it&#8217;s necessary to prefix all commands (e.g., rake) with <code>bundle exec</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="running-the-tests">Running the Tests</h3>
<div class="paragraph">
<p>The tests are based on RSpec.
The test suite is located in the <em class="path">spec</em> directory.</p>
</div>
<div class="paragraph">
<p>You can run the tests using Rake.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rake spec</pre>
</div>
</div>
<div class="paragraph">
<p>For more fine-grained control, you can also run the tests using RSpec directly.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rspec</pre>
</div>
</div>
<div class="paragraph">
<p>If you only want to run a selection of tests, you can do so by assigning those specifications a tag and filtering the test run accordingly.</p>
</div>
<div class="paragraph">
<p>Start by adding the <code>focus</code> tag to one or more specifications:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">it 'should register AsciiDoc converter', focus: true do
  expect(site.converters.any? {|c| ::Jekyll::AsciiDoc::Converter === c }).to be true
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, run RSpec with the <code>focus</code> flag enabled:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rspec -t focus</pre>
</div>
</div>
<div class="paragraph">
<p>You should see that RSpec only runs the specifications that have this flag.</p>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-gem-locally">Installing the Gem Locally</h3>
<div class="paragraph">
<p>You can install the development version of the gem as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rake install</pre>
</div>
</div>
<div class="paragraph">
<p>This allows you to use an unreleased version of the gem in your site.
If you want to build the gem and install it manually, use these commands instead:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rake build
$ [sudo] gem install pkg/jekyll-asciidoc-*.dev.gem</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coding-style">Coding Style</h3>
<div class="paragraph">
<p>This project adheres to the coding style used throughout the Asciidoctor project.
The coding style is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Indent using 2 spaces, generally.</p>
</li>
<li>
<p>Indent successive lines of conditions, method arguments or ternary expressions using 4 spaces (but not data structures or chained method calls).</p>
</li>
<li>
<p>Don&#8217;t indent <code>when</code> lines in a case block.</p>
</li>
<li>
<p>Wrap API docs at 120 characters.</p>
</li>
<li>
<p>Leave a single space inside brackets of a Hash.</p>
<div class="literalblock">
<div class="content">
<pre>{ "key" =&gt; "value" }</pre>
</div>
</div>
</li>
<li>
<p>Use JSON-style key-value pair when key is a Symbol.</p>
<div class="literalblock">
<div class="content">
<pre>{ key: "value" }</pre>
</div>
</div>
</li>
<li>
<p>Fully qualify the class name (beginning with <code>::</code>) of any type not in the current namespace.</p>
<div class="literalblock">
<div class="content">
<pre>::File.extname path</pre>
</div>
</div>
</li>
<li>
<p>Use triple equals to check for type, placing the type on the left hand side.</p>
<div class="literalblock">
<div class="content">
<pre>::Hash === attrs</pre>
</div>
</div>
</li>
<li>
<p>Drop parentheses around method arguments of a method definition.</p>
<div class="literalblock">
<div class="content">
<pre>def integrate document, collection_name = nil
  ...
end</pre>
</div>
</div>
</li>
<li>
<p>Drop parentheses around method arguments of an isolated method call.</p>
<div class="literalblock">
<div class="content">
<pre>source = ::File.expand_path config['source']</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>if key.start_with? '!'
  ...
end</pre>
</div>
</div>
</li>
<li>
<p>For chained method calls, wrap parentheses around nested method call.</p>
<div class="literalblock">
<div class="content">
<pre>asciidoctor_config.replace (Utils.symbolize_keys asciidoctor_config)</pre>
</div>
</div>
</li>
<li>
<p>Add <code>%r</code> prefix to inline regexp when used as the first argument of a method.</p>
<div class="literalblock">
<div class="content">
<pre>files.grep %r/^spec\//</pre>
</div>
</div>
</li>
<li>
<p>Use parentheses outside of a method call when parentheses are required.</p>
<div class="literalblock">
<div class="content">
<pre>layout = collection_name ? (collection_name.chomp 's') : 'page'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>if (::Jekyll::Utils.method dlg_method.name).arity == -1
  ...
end</pre>
</div>
</div>
</li>
<li>
<p>Use parentheses where required, such as around the accumulator seed value for a collection predicate.</p>
<div class="literalblock">
<div class="content">
<pre>hash.each_with_object({}) {|(key, val), accum| accum[key.to_sym] = val }</pre>
</div>
</div>
</li>
<li>
<p>Don&#8217;t put curly braces around entries in an options Hash (i.e., symbol keys).</p>
<div class="literalblock">
<div class="content">
<pre>record_path_info document, source_only: true</pre>
</div>
</div>
</li>
<li>
<p>Use a trailing condition for single-line statements.</p>
<div class="literalblock">
<div class="content">
<pre>clear_path_info if Document === document</pre>
</div>
</div>
</li>
<li>
<p>Put parantheses around a variable assignment inside a condition.</p>
<div class="literalblock">
<div class="content">
<pre>if (imagesdir = attrs['imagesdir'])</pre>
</div>
</div>
</li>
<li>
<p>Use simple check for nil.</p>
<div class="literalblock">
<div class="content">
<pre>if base</pre>
</div>
</div>
</li>
<li>
<p>Use <code>%()</code> instead of double quotes around interpolated strings.</p>
<div class="literalblock">
<div class="content">
<pre>%(--- #{val})</pre>
</div>
</div>
</li>
<li>
<p>Use single quotes around string if interpolation is not required.</p>
<div class="literalblock">
<div class="content">
<pre>'asciidoctor'</pre>
</div>
</div>
</li>
<li>
<p>Name constants using pascal style.</p>
<div class="literalblock">
<div class="content">
<pre>NewLine = %(\n)</pre>
</div>
</div>
</li>
<li>
<p>Store each static regular expression in a constant.
Add <code>Rx</code> suffix to name.</p>
<div class="literalblock">
<div class="content">
<pre>HeaderBoundaryRx = /(?&lt;=\p{Graph})\n\n/</pre>
</div>
</div>
</li>
<li>
<p>Use parentheses in traditional style when writing test assertions.</p>
<div class="literalblock">
<div class="content">
<pre>expect(site.config['asciidoc']['processor']).to eql('asciidoctor')
expect(result.key? 'icons').to be true
expect(contents).to match('&lt;div class="page-content"&gt;')</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="releasing-the-gem">Releasing the Gem</h3>
<div class="paragraph">
<p>When you are ready for a release, first set the version in the file <em class="path">lib/jekyll-asciidoc/version.rb</em>.
Then, commit the change using the following commit message template:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Release X.Y.Z</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>X.Y.Z</code> is the version number of the gem.</p>
</div>
<div class="paragraph">
<p>Next, package, tag and release the gem to RubyGems.org, run the following rake task:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ bundle exec rake release</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Ensure you have the proper credentials setup as described in the guide <a href="http://guides.rubygems.org/publishing/#publishing-to-rubygemsorg">Publishing to RubyGems.org</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once you finish the release, you should update the version to the next micro version in the sequence using the <code>.dev</code> suffix (e.g., 2.0.1.dev).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="about-the-project">About the Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Jekyll AsciiDoc plugin, a plugin for the static site generator <a href="https://jekyllrb.com">Jekyll</a>, is a member project of the Asciidoctor organization.
This plugin is developed and supported by volunteers in the Asciidoctor community.</p>
</div>
<div class="sect2">
<h3 id="authors">Authors</h3>
<div class="paragraph">
<p>This plugin was created by Dan Allen and Paul Rayner and has received contributions from many other individuals in the Asciidoctor community.</p>
</div>
</div>
<div class="sect2">
<h3 id="copyright-and-license">Copyright and License</h3>
<div class="paragraph">
<p>Copyright &#169; 2013-2016 Dan Allen, Paul Rayner, and the Asciidoctor Project.
Free use of this software is granted under the terms of the MIT License.
See <a href="LICENSE.html">LICENSE</a> for details.</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Hidden files and folders are automatically excluded by Jekyll.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. The prefix used to label page attributes can be customized.
</div>
</div>
</div>

</body>
</html>


